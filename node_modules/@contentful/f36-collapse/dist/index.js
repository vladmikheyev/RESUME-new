'use strict';

var $ = require('react');
var f36Core = require('@contentful/f36-core');
var emotion = require('emotion');
var l = require('@contentful/f36-tokens');

function _interopDefault (e) { return e && e.__esModule ? e : { default: e }; }

var $__default = /*#__PURE__*/_interopDefault($);
var l__default = /*#__PURE__*/_interopDefault(l);

var D=Object.defineProperty,H=Object.defineProperties;var E=Object.getOwnPropertyDescriptors;var s=Object.getOwnPropertySymbols;var f=Object.prototype.hasOwnProperty,y=Object.prototype.propertyIsEnumerable;var m=(e,o,t)=>o in e?D(e,o,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[o]=t,u=(e,o)=>{for(var t in o||(o={}))f.call(o,t)&&m(e,t,o[t]);if(s)for(var t of s(o))y.call(o,t)&&m(e,t,o[t]);return e},h=(e,o)=>H(e,E(o));var g=(e,o)=>{var t={};for(var n in e)f.call(e,n)&&o.indexOf(n)<0&&(t[n]=e[n]);if(e!=null&&s)for(var n of s(e))o.indexOf(n)<0&&y.call(e,n)&&(t[n]=e[n]);return t};var P=({className:e})=>({collapseWrapper:emotion.cx(emotion.css({boxSizing:"border-box",overflow:"hidden",height:0,display:"none",transition:`height ${l__default.default.transitionDurationDefault} ${l__default.default.transitionEasingDefault}, padding ${l__default.default.transitionDurationDefault} ${l__default.default.transitionEasingDefault}`}),e)});var I=M=>{var a=M,{children:e,className:o,isExpanded:t=!1,testId:n="cf-collapse"}=a,d=g(a,["children","className","isExpanded","testId"]);let i=$.useRef(null),C=P({className:o}),p=()=>{let{current:r}=i;return r?`${r.scrollHeight}px`:"0px"};return $.useLayoutEffect(()=>{let{current:r}=i,c=()=>{r&&(t?r.style.setProperty("height","auto"):(r.style.removeProperty("pointer-events"),r.style.setProperty("display","none")));};return r&&(r.addEventListener("transitionend",c),requestAnimationFrame(function(){t?(r.style.setProperty("display","block"),r.style.removeProperty("pointer-events")):r.style.setProperty("pointer-events","none");let v=t?"0px":p(),x=t?p():"0px";r.style.setProperty("height",v),requestAnimationFrame(function(){r.style.setProperty("height",x);});})),()=>{r&&r.removeEventListener("transitionend",c);}},[t]),$__default.default.createElement(f36Core.Box,h(u({},d),{testId:n,role:"region","aria-hidden":!t,className:C.collapseWrapper,ref:i}),e)};

exports.Collapse = I;
//# sourceMappingURL=out.js.map
//# sourceMappingURL=index.js.map