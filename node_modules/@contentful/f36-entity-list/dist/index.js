'use strict';

var e = require('react');
var emotion = require('emotion');
var o = require('@contentful/f36-tokens');
var f36Badge = require('@contentful/f36-badge');
var f36Core = require('@contentful/f36-core');
var f36Icons = require('@contentful/f36-icons');
var f36Icon = require('@contentful/f36-icon');
var f36Typography = require('@contentful/f36-typography');
var f36DragHandle = require('@contentful/f36-drag-handle');
var f36Button = require('@contentful/f36-button');
var f36Menu = require('@contentful/f36-menu');
var f36Skeleton = require('@contentful/f36-skeleton');

function _interopDefault (e) { return e && e.__esModule ? e : { default: e }; }

var e__default = /*#__PURE__*/_interopDefault(e);
var o__default = /*#__PURE__*/_interopDefault(o);

var J=Object.defineProperty,K=Object.defineProperties;var Q=Object.getOwnPropertyDescriptors;var d=Object.getOwnPropertySymbols;var S=Object.prototype.hasOwnProperty,k=Object.prototype.propertyIsEnumerable;var N=(t,i,n)=>i in t?J(t,i,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[i]=n,l=(t,i)=>{for(var n in i||(i={}))S.call(i,n)&&N(t,n,i[n]);if(d)for(var n of d(i))k.call(i,n)&&N(t,n,i[n]);return t},g=(t,i)=>K(t,Q(i));var v=(t,i)=>{var n={};for(var r in t)S.call(t,r)&&i.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&d)for(var r of d(t))i.indexOf(r)<0&&k.call(t,r)&&(n[r]=t[r]);return n};var D=()=>({root:emotion.css({display:"block",listStyle:"none",margin:0,padding:0,border:`1px solid ${o__default.default.gray200}`,borderBottom:"none",borderRadius:o__default.default.borderRadiusMedium,overflow:"hidden"})});function A(t,i){let n=D();return e__default.default.createElement("ul",{"data-test-id":t.testId||"cf-ui-entity-list",ref:i,className:emotion.cx(n.root,t.className),style:t.style},t.children)}A.displayName="EntityList";var X=e__default.default.forwardRef(A);var B=()=>({root:t=>emotion.css(g(l({display:"flex",boxShadow:`inset 0 -1px 0 ${o__default.default.gray200}`,position:"relative",transition:`${o__default.default.transitionDurationShort} ${o__default.default.transitionEasingDefault}`,transitionProperty:"box-shadow, background-color",backgroundColor:o__default.default.colorWhite},t.isDragActive?{boxShadow:o__default.default.boxShadowHeavy}:{}),{"&:hover":{backgroundColor:o__default.default.gray100}})),card:emotion.css({display:"flex",textDecoration:"none",width:"100%",minHeight:o__default.default.spacing3Xl,padding:o__default.default.spacingXs,margin:0,border:"none",background:"none",textAlign:"left"}),content:emotion.css({flexGrow:1,minWidth:0,position:"relative"}),media:emotion.css({display:"flex",flexShrink:0,alignItems:"center",justifyContent:"center",backgroundColor:o__default.default.gray200,width:o__default.default.spacing2Xl,height:o__default.default.spacing2Xl,margin:"0",marginRight:o__default.default.spacingXs}),thumbnail:emotion.css({display:"block",width:"100%",height:"100%",objectFit:"cover"}),contentType:emotion.css({marginLeft:o__default.default.spacingXs}),entityType:emotion.css({textTransform:"capitalize"}),description:emotion.css({"&::before":{content:'"|"',color:o__default.default.gray400,height:"25%",marginTop:o__default.default.spacing2Xs,marginLeft:o__default.default.spacing2Xs,marginRight:o__default.default.spacing2Xs}}),meta:emotion.css({marginLeft:"auto",flexShrink:0}),dragHandle:emotion.css({borderBottomLeftRadius:"0",borderTopLeftRadius:"0",boxShadow:`inset 0 -1px 0 ${o__default.default.gray200}`}),menuTrigger:emotion.css({padding:"0 0.125rem",minHeight:"1.5rem"})});var mt={asset:f36Icons.AssetIcon,entry:f36Icons.EntryIcon,release:f36Icons.ReleaseIcon,page:f36Icons.PageIcon},y=dt=>{var C=dt,{className:t,testId:i="cf-ui-entity-list-item",title:n,description:r,contentType:b,entityType:c="entry",withThumbnail:$=!0,thumbnailUrl:I,thumbnailAltText:O,status:f,actions:u,withDragHandle:W,isDragActive:P,isLoading:z,onClick:H,href:m,cardDragHandleProps:U,cardDragHandleComponent:T,isActionsDisabled:_=!1}=C,j=v(C,["className","testId","title","description","contentType","entityType","withThumbnail","thumbnailUrl","thumbnailAltText","status","actions","withDragHandle","isDragActive","isLoading","onClick","href","cardDragHandleProps","cardDragHandleComponent","isActionsDisabled"]);let s=B(),G=()=>{if(T)return T;if(W)return e__default.default.createElement(f36DragHandle.DragHandle,l({className:s.dragHandle,isActive:P,label:"Reorder entry"},U))},h="article";(m||H)&&(h=m?"a":"button");let q=f==="archived"||!I;return e__default.default.createElement("li",g(l({},j),{className:emotion.cx(s.root({isDragActive:P}),t),"data-test-id":i}),G(),z?e__default.default.createElement("article",{className:s.card},e__default.default.createElement(f36Skeleton.Skeleton.Container,{clipId:"f36-entity-list-item-skeleton"},e__default.default.createElement(f36Skeleton.Skeleton.Image,{height:46,width:46}),e__default.default.createElement(f36Skeleton.Skeleton.BodyText,{numberOfLines:2,lineHeight:18,offsetLeft:54}))):e__default.default.createElement(h,{className:s.card,onClick:H,href:m,type:h==="button"?"button":void 0,target:m?"_blank":void 0},$&&e__default.default.createElement("figure",{className:s.media},q?e__default.default.createElement(f36Icon.Icon,{as:mt[c.toLowerCase()],variant:"muted"}):e__default.default.createElement("img",{src:I,className:s.thumbnail,alt:O})),e__default.default.createElement("div",{className:s.content},e__default.default.createElement(f36Core.Flex,null,e__default.default.createElement(f36Typography.Text,{as:"h3",lineHeight:"lineHeightM",fontColor:"gray900",fontWeight:"fontWeightDemiBold",isTruncated:!0},n),b&&e__default.default.createElement(f36Typography.Text,{as:"span",lineHeight:"lineHeightM",fontColor:"gray600",className:s.contentType,isTruncated:!0},"(",b,")")),e__default.default.createElement(f36Core.Flex,{marginTop:"spacing2Xs"},c&&e__default.default.createElement(f36Typography.Text,{lineHeight:"lineHeightM",fontColor:"gray600",className:s.entityType},c),r&&e__default.default.createElement(f36Typography.Text,{as:"p",lineHeight:"lineHeightM",fontColor:"gray900",isTruncated:!0,className:s.description},r))),e__default.default.createElement(f36Core.Flex,{className:s.meta,alignItems:"flex-start",paddingLeft:"spacingXs"},f&&e__default.default.createElement(f36Core.Box,{marginRight:u?"spacingXs":"none"},e__default.default.createElement(f36Badge.EntityStatusBadge,{entityStatus:f})),u&&e__default.default.createElement(f36Menu.Menu,null,e__default.default.createElement(f36Menu.Menu.Trigger,null,e__default.default.createElement(f36Button.Button,{isDisabled:_,startIcon:e__default.default.createElement(f36Icons.MoreHorizontalIcon,null),variant:"transparent","aria-label":"Actions",size:"small",className:s.menuTrigger})),e__default.default.createElement(f36Menu.Menu.List,null,u)))))};y.displayName="EntityListItem";var F=X;F.Item=y;

exports.EntityList = F;
exports.EntityListItem = y;
//# sourceMappingURL=out.js.map
//# sourceMappingURL=index.js.map