import e from 'react';
import { cx, css } from 'emotion';
import o from '@contentful/f36-tokens';
import { EntityStatusBadge } from '@contentful/f36-badge';
import { Flex, Box } from '@contentful/f36-core';
import { MoreHorizontalIcon, AssetIcon, EntryIcon, ReleaseIcon, PageIcon } from '@contentful/f36-icons';
import { Icon } from '@contentful/f36-icon';
import { Text } from '@contentful/f36-typography';
import { DragHandle } from '@contentful/f36-drag-handle';
import { Button } from '@contentful/f36-button';
import { Menu } from '@contentful/f36-menu';
import { Skeleton } from '@contentful/f36-skeleton';

var J=Object.defineProperty,K=Object.defineProperties;var Q=Object.getOwnPropertyDescriptors;var d=Object.getOwnPropertySymbols;var S=Object.prototype.hasOwnProperty,k=Object.prototype.propertyIsEnumerable;var N=(t,i,n)=>i in t?J(t,i,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[i]=n,l=(t,i)=>{for(var n in i||(i={}))S.call(i,n)&&N(t,n,i[n]);if(d)for(var n of d(i))k.call(i,n)&&N(t,n,i[n]);return t},g=(t,i)=>K(t,Q(i));var v=(t,i)=>{var n={};for(var r in t)S.call(t,r)&&i.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&d)for(var r of d(t))i.indexOf(r)<0&&k.call(t,r)&&(n[r]=t[r]);return n};var D=()=>({root:css({display:"block",listStyle:"none",margin:0,padding:0,border:`1px solid ${o.gray200}`,borderBottom:"none",borderRadius:o.borderRadiusMedium,overflow:"hidden"})});function A(t,i){let n=D();return e.createElement("ul",{"data-test-id":t.testId||"cf-ui-entity-list",ref:i,className:cx(n.root,t.className),style:t.style},t.children)}A.displayName="EntityList";var X=e.forwardRef(A);var B=()=>({root:t=>css(g(l({display:"flex",boxShadow:`inset 0 -1px 0 ${o.gray200}`,position:"relative",transition:`${o.transitionDurationShort} ${o.transitionEasingDefault}`,transitionProperty:"box-shadow, background-color",backgroundColor:o.colorWhite},t.isDragActive?{boxShadow:o.boxShadowHeavy}:{}),{"&:hover":{backgroundColor:o.gray100}})),card:css({display:"flex",textDecoration:"none",width:"100%",minHeight:o.spacing3Xl,padding:o.spacingXs,margin:0,border:"none",background:"none",textAlign:"left"}),content:css({flexGrow:1,minWidth:0,position:"relative"}),media:css({display:"flex",flexShrink:0,alignItems:"center",justifyContent:"center",backgroundColor:o.gray200,width:o.spacing2Xl,height:o.spacing2Xl,margin:"0",marginRight:o.spacingXs}),thumbnail:css({display:"block",width:"100%",height:"100%",objectFit:"cover"}),contentType:css({marginLeft:o.spacingXs}),entityType:css({textTransform:"capitalize"}),description:css({"&::before":{content:'"|"',color:o.gray400,height:"25%",marginTop:o.spacing2Xs,marginLeft:o.spacing2Xs,marginRight:o.spacing2Xs}}),meta:css({marginLeft:"auto",flexShrink:0}),dragHandle:css({borderBottomLeftRadius:"0",borderTopLeftRadius:"0",boxShadow:`inset 0 -1px 0 ${o.gray200}`}),menuTrigger:css({padding:"0 0.125rem",minHeight:"1.5rem"})});var mt={asset:AssetIcon,entry:EntryIcon,release:ReleaseIcon,page:PageIcon},y=dt=>{var C=dt,{className:t,testId:i="cf-ui-entity-list-item",title:n,description:r,contentType:b,entityType:c="entry",withThumbnail:$=!0,thumbnailUrl:I,thumbnailAltText:O,status:f,actions:u,withDragHandle:W,isDragActive:P,isLoading:z,onClick:H,href:m,cardDragHandleProps:U,cardDragHandleComponent:T,isActionsDisabled:_=!1}=C,j=v(C,["className","testId","title","description","contentType","entityType","withThumbnail","thumbnailUrl","thumbnailAltText","status","actions","withDragHandle","isDragActive","isLoading","onClick","href","cardDragHandleProps","cardDragHandleComponent","isActionsDisabled"]);let s=B(),G=()=>{if(T)return T;if(W)return e.createElement(DragHandle,l({className:s.dragHandle,isActive:P,label:"Reorder entry"},U))},h="article";(m||H)&&(h=m?"a":"button");let q=f==="archived"||!I;return e.createElement("li",g(l({},j),{className:cx(s.root({isDragActive:P}),t),"data-test-id":i}),G(),z?e.createElement("article",{className:s.card},e.createElement(Skeleton.Container,{clipId:"f36-entity-list-item-skeleton"},e.createElement(Skeleton.Image,{height:46,width:46}),e.createElement(Skeleton.BodyText,{numberOfLines:2,lineHeight:18,offsetLeft:54}))):e.createElement(h,{className:s.card,onClick:H,href:m,type:h==="button"?"button":void 0,target:m?"_blank":void 0},$&&e.createElement("figure",{className:s.media},q?e.createElement(Icon,{as:mt[c.toLowerCase()],variant:"muted"}):e.createElement("img",{src:I,className:s.thumbnail,alt:O})),e.createElement("div",{className:s.content},e.createElement(Flex,null,e.createElement(Text,{as:"h3",lineHeight:"lineHeightM",fontColor:"gray900",fontWeight:"fontWeightDemiBold",isTruncated:!0},n),b&&e.createElement(Text,{as:"span",lineHeight:"lineHeightM",fontColor:"gray600",className:s.contentType,isTruncated:!0},"(",b,")")),e.createElement(Flex,{marginTop:"spacing2Xs"},c&&e.createElement(Text,{lineHeight:"lineHeightM",fontColor:"gray600",className:s.entityType},c),r&&e.createElement(Text,{as:"p",lineHeight:"lineHeightM",fontColor:"gray900",isTruncated:!0,className:s.description},r))),e.createElement(Flex,{className:s.meta,alignItems:"flex-start",paddingLeft:"spacingXs"},f&&e.createElement(Box,{marginRight:u?"spacingXs":"none"},e.createElement(EntityStatusBadge,{entityStatus:f})),u&&e.createElement(Menu,null,e.createElement(Menu.Trigger,null,e.createElement(Button,{isDisabled:_,startIcon:e.createElement(MoreHorizontalIcon,null),variant:"transparent","aria-label":"Actions",size:"small",className:s.menuTrigger})),e.createElement(Menu.List,null,u)))))};y.displayName="EntityListItem";var F=X;F.Item=y;

export { F as EntityList, y as EntityListItem };
//# sourceMappingURL=out.js.map
//# sourceMappingURL=index.js.map