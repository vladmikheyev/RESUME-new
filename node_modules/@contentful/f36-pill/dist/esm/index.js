import l from 'react';
import { cx, css } from 'emotion';
import { Tooltip } from '@contentful/f36-tooltip';
import { CloseIcon } from '@contentful/f36-icons';
import { Button } from '@contentful/f36-button';
import { DragHandle } from '@contentful/f36-drag-handle';
import o from '@contentful/f36-tokens';

var L=Object.defineProperty;var n=Object.getOwnPropertySymbols;var b=Object.prototype.hasOwnProperty,y=Object.prototype.propertyIsEnumerable;var P=(t,e,r)=>e in t?L(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,i=(t,e)=>{for(var r in e||(e={}))b.call(e,r)&&P(t,r,e[r]);if(n)for(var r of n(e))y.call(e,r)&&P(t,r,e[r]);return t};var h=(t,e)=>{var r={};for(var a in t)b.call(t,a)&&e.indexOf(a)<0&&(r[a]=t[a]);if(t!=null&&n)for(var a of n(t))e.indexOf(a)<0&&y.call(t,a)&&(r[a]=t[a]);return r};var I=()=>css({borderLeft:`1px solid ${o.gray400}`,borderTopLeftRadius:0,borderBottomLeftRadius:0,padding:o.spacingXs,minHeight:"auto",transition:`background ${o.transitionDurationShort} ${o.transitionEasingDefault},
    opacity ${o.transitionDurationDefault} ${o.transitionEasingDefault}`,"&:focus":{boxShadow:o.glowMuted,borderLeftColor:o.gray300},"&:hover, &:focus, &:active":{backgroundColor:o.gray300}}),M=()=>css({color:o.gray700,lineHeight:o.lineHeightM,padding:o.spacingXs,fontSize:o.fontSizeM,flexGrow:2,whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden"}),W=t=>{let e=r=>{switch(r){case"active":return {background:o.gray300};case"deleted":return {background:o.gray200,textDecoration:"line-through",opacity:"0.5"};default:return {background:o.gray200}}};return css(i({display:"inline-flex",fontFamily:o.fontStackPrimary,alignItems:"center",borderRadius:o.borderRadiusSmall,border:"none",padding:0,maxWidth:"100%"},e(t)))};function x(t){return {closeButton:I(),label:M(),icon:css({fill:o.gray600,verticalAlign:"middle",outline:"none"}),pill:W(t)}}var v=l.forwardRef((t,e)=>{let g=t,{isDraggable:r,label:a,onClose:d,testId:C="cf-ui-pill",onDrag:m,className:D,dragHandleComponent:c,variant:S="idle"}=g,k=h(g,["isDraggable","label","onClose","testId","onDrag","className","dragHandleComponent","variant"]),p=x(S),[H,f]=l.useState(!1),T=l.useCallback(u=>{if(!u)return;let{scrollWidth:w,offsetWidth:E}=u.parentElement;f(w>E);},[f]);return l.createElement("div",i({className:cx(p.pill,D),"data-test-id":C,onDrag:m,ref:e},k),(r||m)&&(c||l.createElement(DragHandle,{label:"Reorder item",variant:"transparent"})),l.createElement(Tooltip,{content:a,maxWidth:"none",targetWrapperClassName:p.label,isDisabled:!H},l.createElement("span",{ref:T},a)),d&&l.createElement(Button,{type:"button",variant:"transparent",startIcon:l.createElement(CloseIcon,null),"aria-label":"Close",onClick:d,className:p.closeButton}))});v.displayName="Pill";

export { v as Pill };
//# sourceMappingURL=out.js.map
//# sourceMappingURL=index.js.map