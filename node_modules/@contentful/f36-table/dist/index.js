'use strict';

var emotion = require('emotion');
var P = require('react');
var f36Core = require('@contentful/f36-core');
var a = require('@contentful/f36-tokens');
var f36Typography = require('@contentful/f36-typography');
var f36Icons = require('@contentful/f36-icons');

function _interopDefault (e) { return e && e.__esModule ? e : { default: e }; }

var P__default = /*#__PURE__*/_interopDefault(P);
var a__default = /*#__PURE__*/_interopDefault(a);

var ie=Object.defineProperty,de=Object.defineProperties;var me=Object.getOwnPropertyDescriptors;var C=Object.getOwnPropertySymbols;var W=Object.prototype.hasOwnProperty,$=Object.prototype.propertyIsEnumerable;var L=(o,t,e)=>t in o?ie(o,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):o[t]=e,n=(o,t)=>{for(var e in t||(t={}))W.call(t,e)&&L(o,e,t[e]);if(C)for(var e of C(t))$.call(t,e)&&L(o,e,t[e]);return o},s=(o,t)=>de(o,me(t));var i=(o,t)=>{var e={};for(var r in o)W.call(o,r)&&t.indexOf(r)<0&&(e[r]=o[r]);if(o!=null&&C)for(var r of C(o))t.indexOf(r)<0&&$.call(o,r)&&(e[r]=o[r]);return e};var O=()=>({inline:emotion.css({borderRadius:a__default.default.borderRadiusMedium,boxShadow:`0 0 0 1px ${a__default.default.gray200}`,"th:first-child":{borderTopLeftRadius:a__default.default.borderRadiusMedium},"th:last-child":{borderTopRightRadius:a__default.default.borderRadiusMedium},"tr:last-child td:first-child":{borderBottomLeftRadius:a__default.default.borderRadiusMedium},"tr:last-child td:last-child":{borderBottomRightRadius:a__default.default.borderRadiusMedium}}),embedded:emotion.css({borderBottom:`1px solid ${a__default.default.gray200}`}),root:emotion.css({width:"100%"})});var D=P.createContext({}),z=()=>P.useContext(D),F=D.Provider;var H=P.forwardRef((T,p)=>{var d=T,{children:o,className:t,layout:e="inline",testId:r="cf-ui-table",verticalAlign:l="top"}=d,m=i(d,["children","className","layout","testId","verticalAlign"]);let b=O();return P__default.default.createElement(f36Core.Box,s(n({cellPadding:"0",cellSpacing:"0"},m),{as:"table",display:"table",ref:p,className:emotion.cx(b.root,b[e],t),testId:r}),P__default.default.createElement(F,{value:{verticalAlign:l}},o))});H.displayName="Table";function G(m,l){var p=m,{className:o,children:t,testId:e="cf-ui-table-body"}=p,r=i(p,["className","children","testId"]);return P__default.default.createElement(f36Core.Box,s(n({},r),{as:"tbody",className:o,ref:l,testId:e}),t)}G.displayName="TableBody";var E=P.forwardRef(G);var u={body:{name:"body",as:"td",offsetTop:0},head:{name:"head",as:"th",offsetTop:0}},I=P.createContext(u.body),M=()=>P.useContext(I),N=I.Provider;var V=({align:o,isSortable:t,isTableHead:e,verticalAlign:r})=>({button:emotion.css({alignItems:"flex-start",appearance:"none",background:"none",border:0,color:"inherit",cursor:"pointer",display:"inline-flex",gap:a__default.default.spacing2Xs,outline:0,padding:a__default.default.spacingS,"&:focus":{backgroundColor:a__default.default.gray100,boxShadow:a__default.default.glowPrimary},"&:focus:not(:focus-visible)":{backgroundColor:"unset",boxShadow:"unset"},"&:focus-visible":{backgroundColor:a__default.default.gray100,boxShadow:a__default.default.glowPrimary}}),container:emotion.css({backgroundColor:a__default.default.colorWhite,borderBottom:`1px solid ${a__default.default.gray200}`,padding:t?0:a__default.default.spacingS,textAlign:o,color:e?a__default.default.gray600:a__default.default.gray700,fontWeight:e?a__default.default.fontWeightMedium:a__default.default.fontWeightNormal,verticalAlign:r}),sortIcon:l=>emotion.css({fill:a__default.default.gray400,opacity:l?1:0,transition:`opacity ${a__default.default.transitionEasingCubicBezier} ${a__default.default.transitionDurationDefault}`})});function Re(o){return P.isValidElement(o)&&!!o.props.children}function g(o){let t="";return P.Children.toArray(o).map(e=>{P.isValidElement(e)&&Re(e)?t+=g(e.props.children):(typeof e=="string"||typeof e=="number")&&(t=`${t}${e}`);}),t}var U=(e=>(e.Ascending="ascending",e.Descending="descending",e))(U||{}),ke={ascending:f36Icons.SortAscendingIcon,descending:f36Icons.SortDescendingIcon};function X(d,T){var b=d,{align:o="left",children:t,className:e,isSortable:r,sortDirection:l,testId:m="cf-ui-table-cell"}=b,p=i(b,["align","children","className","isSortable","sortDirection","testId"]);let[f,x]=P.useState(!1),{as:oe,name:te,offsetTop:re}=M(),{verticalAlign:le}=z(),ae=ke[l],S=te==="head",B=V({isSortable:S?r:void 0,isTableHead:S,align:o,verticalAlign:le}),ne=S?f36Typography.Caption:f36Typography.Text,se=r?{"aria-sort":l!=null?l:"none",onBlur:()=>x(!1),onFocus:()=>x(!0),onMouseEnter:()=>x(!0),onMouseLeave:()=>x(!1)}:{},pe=P.useMemo(()=>g(t),[t]),A=t;return r&&(A=P__default.default.createElement("button",{"aria-label":`Sort ${l==="ascending"?"descending":"ascending"} by ${pe}`,className:B.button,type:"button"},t,l?P__default.default.createElement(ae,{size:"tiny",variant:"secondary"}):P__default.default.createElement(f36Icons.SortIcon,{"aria-hidden":!f,className:B.sortIcon(f),size:"tiny",variant:"secondary"}))),P__default.default.createElement(ne,s(n(n({},p),se),{as:oe,className:emotion.cx(B.container,e),ref:T,style:s(n({},p.style),{top:re||void 0}),testId:m}),A)}X.displayName="TableCell";var k=P.forwardRef(X);var J=()=>({root:emotion.css({color:a__default.default.gray600}),sticky:emotion.css({th:{position:"sticky",top:0,zIndex:a__default.default.zIndexDefault}})});var h=P.forwardRef((T,p)=>{var d=T,{children:o,className:t,isSticky:e=!1,offsetTop:r,testId:l="cf-ui-table-head"}=d,m=i(d,["children","className","isSticky","offsetTop","testId"]);let b=J(),f=emotion.cx(b.root,e&&b.sticky,t);return P__default.default.createElement(N,{value:s(n({},u.head),{offsetTop:r||0})},P__default.default.createElement(f36Core.Box,s(n({},m),{as:"thead",className:f,ref:p,testId:l}),o))});h.displayName="TableHead";var ee=()=>({root:emotion.css({"&:last-child td":{borderBottom:"none"},"&:hover td":{backgroundColor:a__default.default.gray100}}),selected:emotion.css({"td, th":{backgroundColor:a__default.default.gray100}})});var R=P.forwardRef((p,m)=>{var T=p,{className:o,children:t,isSelected:e=!1,testId:r="cf-ui-table-row"}=T,l=i(T,["className","children","isSelected","testId"]);let d=ee();return P__default.default.createElement(f36Core.Box,s(n({},l),{as:"tr",className:emotion.cx(d.root,{[d.selected]:e},o),ref:m,testId:r}),t)});R.displayName="TableRow";var y=H;y.Row=R;y.Head=h;y.Cell=k;y.Body=E;

exports.Table = y;
exports.TableBody = E;
exports.TableCell = k;
exports.TableCellContext = I;
exports.TableCellContextProvider = N;
exports.TableCellSorting = U;
exports.TableHead = h;
exports.TableRow = R;
exports.contextOptions = u;
exports.useTableCellContext = M;
//# sourceMappingURL=out.js.map
//# sourceMappingURL=index.js.map